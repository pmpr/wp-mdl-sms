<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             6999928d4e8dc             |
    |_______________________________________|
*/
 namespace Pmpr\Module\SMS\Provider\Kavenegar; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Module\SMS\Model\Recipient; use Pmpr\Module\SMS\Provider\Provider; use WP_Error; class Kavenegar extends Provider { public function __construct() { $wissqeyocyayguas = $this->weysguygiseoukqw(Setting::aciemiuuwgysykom, ''); if (empty($wissqeyocyayguas)) { return; } $this->domain = sprintf('https://api.kavenegar.com/v1/%s', rawurlencode($wissqeyocyayguas)); parent::__construct(); } public function ciwaawccquiuikqg($iomcqougosimesoq, $qqscaoyqikuyeoaw, $msugeqywccmmmgyu, string $mgegoogckgsumooq = '', string $mmomoyqwkmgcikcy = '', string $eywquweokcwmgoeo = '') { $eyagkkkqkwcuygso = ['receptor' => $iomcqougosimesoq, 'template' => $qqscaoyqikuyeoaw, 'token' => $mgegoogckgsumooq, 'token2' => $mmomoyqwkmgcikcy, 'token3' => $eywquweokcwmgoeo]; if (!empty($msugeqywccmmmgyu)) { $eyagkkkqkwcuygso['sender'] = $msugeqywccmmmgyu; } return $this->iggeisikkgwaaysi('/verify/lookup.json', $eyagkkkqkwcuygso); } public function ysqiukeauuqcuosw($euuagqogsaeccmgs, $uamcoiueqaamsqma, $msugeqywccmmmgyu) { $eyagkkkqkwcuygso = ['receptor' => implode(',', $euuagqogsaeccmgs), 'message' => $uamcoiueqaamsqma]; if (!empty($msugeqywccmmmgyu)) { $eyagkkkqkwcuygso['sender'] = $msugeqywccmmmgyu; } return $this->iggeisikkgwaaysi('/sms/send.json', $eyagkkkqkwcuygso); } public function uiqqikcuycqyeooa(array $mucmyeguosausosy) { return $this->kmgcyuskiyawqouw('/sms/status.json', ['messageid' => implode(',', $mucmyeguosausosy)]); } public function okogmmomueiegyga($sogksuscggsicmac, Recipient $meywaqqsugaoeyys, array $gqgemcmoicmgaqie = []) { $owouacqkcukeeomw = $sogksuscggsicmac['entries'] ?? []; $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $this->caokeucsksukesyo()->ywqgcuymeiswqyqc()->wwcggqwcageguusk($owouacqkcukeeomw, function ($uwsgakoiqomwikmy) use($eqwoegegiamegqsm, $gqgemcmoicmgaqie, $meywaqqsugaoeyys) { $iomcqougosimesoq = $uwsgakoiqomwikmy['receptor'] ?? ''; $iueymcwwscwqkiyq = $uwsgakoiqomwikmy['status'] ?? ''; $imeywacwecgemcco = $uwsgakoiqomwikmy['cost'] ?? ''; $iuawoucymeqkcuue = $uwsgakoiqomwikmy['messageid'] ?? ''; $yiakuisasyweiyuk = $uwsgakoiqomwikmy['statustext'] ?? ''; $gqgemcmoicmgaqie[Constants::skogicecygyyskkq] = $iomcqougosimesoq; $gcmwqkgqeicmmkqy = $meywaqqsugaoeyys->iekyeyicoyyawomk()->oqomcmyuuakigusk($eqwoegegiamegqsm->gwumowwouoisykio($gqgemcmoicmgaqie)); if ($gcmwqkgqeicmmkqy) { $meywaqqsugaoeyys->gssiscqyqsacmeca()->wqikesawekycweoi($gcmwqkgqeicmmkqy, [Constants::sqcsaeqsycmuiiso => $imeywacwecgemcco, Constants::ciywsqoeiymemsys => $this->gyyaqqmcacqcmows($iueymcwwscwqkiyq), $meywaqqsugaoeyys::oaweaiksmesocyqw => $iuawoucymeqkcuue, $meywaqqsugaoeyys::qicwymecsmsawuom => $yiakuisasyweiyuk]); } else { $this->caokeucsksukesyo()->mskuyeumceaigegs()->kauiuueiiekqcqwo('Can not find recipient to update tracking id.', PR__MDL__SMS); } }); } public function meuqqaesciayesoo($sogksuscggsicmac, Recipient $meywaqqsugaoeyys, array $gqgemcmoicmgaqie = []) { $owouacqkcukeeomw = $sogksuscggsicmac['entries'] ?? []; $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $this->caokeucsksukesyo()->ywqgcuymeiswqyqc()->wwcggqwcageguusk($owouacqkcukeeomw, function ($uwsgakoiqomwikmy) use($eqwoegegiamegqsm, $gqgemcmoicmgaqie, $meywaqqsugaoeyys) { $iueymcwwscwqkiyq = $uwsgakoiqomwikmy['status'] ?? ''; $iuawoucymeqkcuue = $uwsgakoiqomwikmy['messageid'] ?? ''; $yiakuisasyweiyuk = $uwsgakoiqomwikmy['statustext'] ?? ''; $gqgemcmoicmgaqie[$meywaqqsugaoeyys::oaweaiksmesocyqw] = $iuawoucymeqkcuue; $gcmwqkgqeicmmkqy = $meywaqqsugaoeyys->iekyeyicoyyawomk()->akkkoiiymmamsauc($eqwoegegiamegqsm->gwumowwouoisykio($gqgemcmoicmgaqie)); if ($gcmwqkgqeicmmkqy) { $meywaqqsugaoeyys->gssiscqyqsacmeca()->wqikesawekycweoi($gcmwqkgqeicmmkqy, [Constants::ciywsqoeiymemsys => $this->gyyaqqmcacqcmows($iueymcwwscwqkiyq), $meywaqqsugaoeyys::qicwymecsmsawuom => $yiakuisasyweiyuk]); } else { $this->caokeucsksukesyo()->mskuyeumceaigegs()->kauiuueiiekqcqwo('Can not find recipient to update status.', PR__MDL__SMS); } }); } private function gyyaqqmcacqcmows($iueymcwwscwqkiyq) : string { $qsqwqsymmqeoqwcu = Constants::sgoswgskyiiwkyuo; switch ($iueymcwwscwqkiyq) { case 2: $qsqwqsymmqeoqwcu = Constants::yokwumqkioggkqsk; break; case 6: $qsqwqsymmqeoqwcu = Constants::uasuowkaguiwoouw; break; case 10: $qsqwqsymmqeoqwcu = Constants::gwucewagimuecsyk; break; case 11: $qsqwqsymmqeoqwcu = Constants::gecaaasmscqqswoa; break; case 13: case 14: $qsqwqsymmqeoqwcu = Constants::yqkomaiikewyeges; break; case 100: $qsqwqsymmqeoqwcu = Constants::kkmawwmuucasaomg; break; } return $qsqwqsymmqeoqwcu; } }
